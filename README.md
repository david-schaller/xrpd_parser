# xrpd_parser

Parser for X-ray powder diffraction (XRPD) measurements with TOPAS. 

The program parses TOPAS output files containing one or multiple measurements, converts them into table (CSV files), and plots some of the parameters.

## Installation

The installation requires Python 3.10 or higher. If you are not yet familiar with Python and its distributions, [Anaconda](https://www.anaconda.com/download) is a good option and available for Linux, Mac, and Windows.

Download and unpack the repository folder. Then open a terminal, navigate into the unpacked folder (containing the `setup.cfg` file), and install the package using the command:

```bash
pip install .
```

## Usage

Once installed, the program is available as a command line. For an overview of the arguments and options use:

```bash
xrpd-parser --help
```

The command line at least requires (1) the path to the input file containing the measurements and (2) the name of the output folder (possibly to be created):

```bash
xrpd-parser -i path/to/measurements.out -o path/to/new_output_folder
```

The output folder contains the following files:

| Name | Description |
| --- | --- |
| `structures.csv` | One row for each measured structure, identified via a measurement ID (`measurement_id`, generated by the program) and the phase name (`phase_name`).  |
| `atoms.csv` | One row per atom, containing columns `measurement_id` and `phase_name` as a "foreign key" pointing to the structures table. |
| `summary_plots_against_temperature.pdf` | A PDF file visualizing the development of several parameters (a, b, c, R-Bragg, cell volume, ...) against the temperature. |
| `summary_plots_against_measurement.pdf` | A PDF file visualizing the development of several parameters (a, b, c, R-Bragg, cell volume, temperature ...) against the index of the measurement (as defined by the order in the input file, zero-based). |
